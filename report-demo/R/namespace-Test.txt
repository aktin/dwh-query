mydata <- data.frame(read.csv("C:/Users/KAFR01/Desktop/report-demo/R/kaos_exp_op_anon1.csv", header=TRUE, sep=";"))

names(mydata) <- c("OPID", "PATID", "FALLNUMMER", "GEBDAT", "BKZ", "ABTEILUNG", "OPDATUM", "FREIGABE", "SAAL_PHYSIKALISCH", "SAALBEZEICHNUNG", "OPABTEILUNG", "ANAESTHESIEART", "TBZ", "ESZ", "ORBZ", "UENZ", "SZ", "NZ", "FGZ", "ORFZ", "ASZ", "TEZ", "NOTFALL")

a <- table(mydata$OPABTEILUNG)

write.table(a, file="Test.csv", quote=FALSE, sep=";", row.names=FALSE)

data <- read.csv("C:/Users/KAFR01/Desktop/report-demo/R/Test.csv", header=TRUE, sep=";")

install.packages("XML")

library(XML)
xml <- xmlTree()
xml$addNode("table", namespace="http://www.w3.org/1999/xhtml", close=FALSE) # namespaceDefinitions = c("http://www.w3.org/1999/xhtml")
for (i in 1:ncol(data)) {
	xml$addNode("col", attrs = c(align = "center",width="20%"), close = TRUE)
    }

    xml$addTag("thead", close=FALSE)
    xml$addTag("tr", close=FALSE)
    for (j in names(data)) {
        xml$addTag("th", j)
        }

    xml$closeTag()
    xml$closeTag()
 xml$addTag("tbody", close=FALSE)   
for (i in 1:nrow(data)) {
    xml$addTag("tr", close=FALSE)
    for (j in names(data)) {
        xml$addTag("td", data[i, j])
    }
    xml$closeTag()
}
xml$closeTag()
xml$closeTag()

cat(saveXML(xml, file="Ergebnis.xml", indent=TRUE))


  doc = newXMLDoc(namespace = "http://www.w3.org/1999/xhtml")
t = newxMLNode("table", doc=doc)
for (i in 1:ncol(data)) {
	newXMLNode("col", attrs = c(align = "center",width="20%"), close = TRUE, parent=t)
    }
cat(saveXML(t, file="Ergebnis2.xml", indent=TRUE))

# mögliche Ansätze für Lösung des namespace-Problems?